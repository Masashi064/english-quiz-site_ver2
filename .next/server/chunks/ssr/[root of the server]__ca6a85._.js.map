{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 135, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/mkawa/myproject/english-quiz-site/lib/firebase.ts"],"sourcesContent":["import { initializeApp } from 'firebase/app'\r\nimport { getFirestore } from 'firebase/firestore'\r\nimport { getAuth } from 'firebase/auth'\r\n\r\nconst firebaseConfig = {\r\n  apiKey: process.env.NEXT_PUBLIC_FIREBASE_API_KEY,\r\n  authDomain: process.env.NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN,\r\n  projectId: process.env.NEXT_PUBLIC_FIREBASE_PROJECT_ID,\r\n  storageBucket: process.env.NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET,\r\n  messagingSenderId: process.env.NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID,\r\n  appId: process.env.NEXT_PUBLIC_FIREBASE_APP_ID,\r\n}\r\n\r\nconst app = initializeApp(firebaseConfig)\r\nconst db = getFirestore(app)\r\nconst auth = getAuth(app)\r\n\r\nexport { db, auth }\r\n"],"names":[],"mappings":";;;;AAAA;AACA;AACA;AAFA;AACA;AACA;;;;AAEA,MAAM,iBAAiB;IACrB,MAAM;IACN,UAAU;IACV,SAAS;IACT,aAAa;IACb,iBAAiB;IACjB,KAAK;AACP;AAEA,MAAM,MAAM,CAAA,GAAA,oLAAA,CAAA,gBAAa,AAAD,EAAE;AAC1B,MAAM,KAAK,CAAA,GAAA,iKAAA,CAAA,eAAY,AAAD,EAAE;AACxB,MAAM,OAAO,CAAA,GAAA,6MAAA,CAAA,UAAO,AAAD,EAAE"}},
    {"offset": {"line": 160, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 166, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/mkawa/myproject/english-quiz-site/context/AuthContext.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { createContext, useContext, useEffect, useState, ReactNode } from 'react';\r\nimport { onAuthStateChanged, User } from 'firebase/auth';\r\nimport { auth } from '@/lib/firebase';\r\n\r\nconst AuthContext = createContext<{ user: User | null, loading: boolean }>({\r\n  user: null,\r\n  loading: true,\r\n});\r\n\r\nexport const AuthProvider = ({ children }: { children: ReactNode }) => {\r\n  const [user, setUser] = useState<User | null>(null);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    const unsubscribe = onAuthStateChanged(auth, (firebaseUser) => {\r\n      setUser(firebaseUser);\r\n      setLoading(false);\r\n    });\r\n    return () => unsubscribe();\r\n  }, []);\r\n\r\n  return (\r\n    <AuthContext.Provider value={{ user, loading }}>\r\n      {children}\r\n    </AuthContext.Provider>\r\n  );\r\n};\r\n\r\nexport const useAuth = () => useContext(AuthContext);\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AADA;AAHA;;;;;AAMA,MAAM,4BAAc,CAAA,GAAA,qMAAA,CAAA,gBAAa,AAAD,EAA2C;IACzE,MAAM;IACN,SAAS;AACX;AAEO,MAAM,eAAe,CAAC,EAAE,QAAQ,EAA2B;IAChE,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAe;IAC9C,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAEvC,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,MAAM,cAAc,CAAA,GAAA,wNAAA,CAAA,qBAAkB,AAAD,EAAE,+GAAA,CAAA,OAAI,EAAE,CAAC;YAC5C,QAAQ;YACR,WAAW;QACb;QACA,OAAO,IAAM;IACf,GAAG,EAAE;IAEL,qBACE,8OAAC,YAAY,QAAQ;QAAC,OAAO;YAAE;YAAM;QAAQ;kBAC1C;;;;;;AAGP;AAEO,MAAM,UAAU,IAAM,CAAA,GAAA,qMAAA,CAAA,aAAU,AAAD,EAAE"}},
    {"offset": {"line": 207, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 213, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/mkawa/myproject/english-quiz-site/context/ThemeContext.tsx"],"sourcesContent":["'use client';\r\nimport { createContext, useContext, useEffect, useState } from 'react';\r\n\r\ntype Theme = 'light' | 'dark';\r\ntype ThemeContextType = {\r\n  theme: Theme;\r\n  toggleTheme: () => void;\r\n};\r\n\r\nconst ThemeContext = createContext<ThemeContextType>({\r\n  theme: 'light',\r\n  toggleTheme: () => {},\r\n});\r\n\r\nexport const ThemeProvider = ({ children }: { children: React.ReactNode }) => {\r\n  const [theme, setTheme] = useState<Theme>('light');\r\n\r\n  useEffect(() => {\r\n    const storedTheme = localStorage.getItem('theme') as Theme | null;\r\n    if (storedTheme) {\r\n      setTheme(storedTheme);\r\n      document.documentElement.classList.remove('light', 'dark');\r\n      document.documentElement.classList.add(storedTheme);\r\n    } else {\r\n      document.documentElement.classList.add('light'); // デフォルトで明示\r\n    }\r\n  }, []);\r\n\r\n\r\n  const toggleTheme = () => {\r\n    const newTheme = theme === 'light' ? 'dark' : 'light';\r\n    setTheme(newTheme);\r\n    document.documentElement.classList.remove('light', 'dark');\r\n    document.documentElement.classList.add(newTheme);\r\n    localStorage.setItem('theme', newTheme);\r\n  };\r\n\r\n  return (\r\n    <ThemeContext.Provider value={{ theme, toggleTheme }}>\r\n      {children}\r\n    </ThemeContext.Provider>\r\n  );\r\n};\r\n\r\nexport const useTheme = () => useContext(ThemeContext);\r\n"],"names":[],"mappings":";;;;;AACA;AADA;;;AASA,MAAM,6BAAe,CAAA,GAAA,qMAAA,CAAA,gBAAa,AAAD,EAAoB;IACnD,OAAO;IACP,aAAa,KAAO;AACtB;AAEO,MAAM,gBAAgB,CAAC,EAAE,QAAQ,EAAiC;IACvE,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAS;IAE1C,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,MAAM,cAAc,aAAa,OAAO,CAAC;QACzC,IAAI,aAAa;YACf,SAAS;YACT,SAAS,eAAe,CAAC,SAAS,CAAC,MAAM,CAAC,SAAS;YACnD,SAAS,eAAe,CAAC,SAAS,CAAC,GAAG,CAAC;QACzC,OAAO;YACL,SAAS,eAAe,CAAC,SAAS,CAAC,GAAG,CAAC,UAAU,WAAW;QAC9D;IACF,GAAG,EAAE;IAGL,MAAM,cAAc;QAClB,MAAM,WAAW,UAAU,UAAU,SAAS;QAC9C,SAAS;QACT,SAAS,eAAe,CAAC,SAAS,CAAC,MAAM,CAAC,SAAS;QACnD,SAAS,eAAe,CAAC,SAAS,CAAC,GAAG,CAAC;QACvC,aAAa,OAAO,CAAC,SAAS;IAChC;IAEA,qBACE,8OAAC,aAAa,QAAQ;QAAC,OAAO;YAAE;YAAO;QAAY;kBAChD;;;;;;AAGP;AAEO,MAAM,WAAW,IAAM,CAAA,GAAA,qMAAA,CAAA,aAAU,AAAD,EAAE"}},
    {"offset": {"line": 258, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 288, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/mkawa/myproject/english-quiz-site/app/components/SiteHeader.tsx"],"sourcesContent":["'use client';\r\n\r\nimport Link from 'next/link';\r\nimport { useAuth } from '@/context/AuthContext';\r\nimport { signOut } from 'firebase/auth';\r\nimport { auth } from '@/lib/firebase';\r\nimport { useRouter } from 'next/navigation';\r\nimport Image from 'next/image';\r\nimport { doc, getDoc } from 'firebase/firestore';\r\nimport { db } from '@/lib/firebase';\r\nimport { useEffect, useState } from 'react';\r\n\r\nexport default function SiteHeader() {\r\n  const { user, loading } = useAuth();\r\n  const router = useRouter();\r\n  const [nickname, setNickname] = useState('');\r\n\r\n  useEffect(() => {\r\n    const fetchNickname = async () => {\r\n      if (!user) return;\r\n      const userRef = doc(db, 'users', user.uid);\r\n      const snap = await getDoc(userRef);\r\n      if (snap.exists()) {\r\n        const data = snap.data();\r\n        setNickname(data.nickname || '');\r\n      }\r\n    };\r\n\r\n    fetchNickname();\r\n  }, [user]);\r\n\r\n  const handleSignOut = async () => {\r\n    await signOut(auth);\r\n    router.push('/signup');\r\n  };\r\n\r\n  return (\r\n    <header className=\"flex justify-between items-center px-4 py-2 border-b border-gray-700\">\r\n      {/* 左側：ロゴとナビゲーション */}\r\n      <div className=\"flex items-center gap-6\">\r\n        <Link href=\"/\" className=\"flex items-center\">\r\n          <Image\r\n            src=\"/img/logo-dark.png\"\r\n            alt=\"SABACAN\"\r\n            width={140}\r\n            height={60}\r\n            className=\"h-8 w-auto object-contain cursor-pointer dark:block hidden\"\r\n            priority\r\n          />\r\n          <Image\r\n            src=\"/img/logo-light.png\"\r\n            alt=\"SABACAN\"\r\n            width={140}\r\n            height={60}\r\n            className=\"h-8 w-auto object-contain cursor-pointer dark:hidden block\"\r\n            priority\r\n          />\r\n        </Link>\r\n\r\n        {/* ✅ How to Use リンク追加 */}\r\n        <Link href=\"/how-to-use\" className=\"text-sm text-gray-700 dark:text-gray-300 hover:text-blue-500\">\r\n          How to Use\r\n        </Link>\r\n      </div>\r\n\r\n      {/* 右側：ユーザー状態に応じたリンク */}\r\n      {!loading && (\r\n        <div className=\"flex gap-4 items-center text-sm\">\r\n          {user ? (\r\n            <>\r\n              <p>Hi, {nickname || 'user'}</p>\r\n              <Link href=\"/account\">Account</Link>\r\n              <button onClick={handleSignOut}>Sign out</button>\r\n            </>\r\n          ) : (\r\n            <>\r\n              <Link href=\"/login\">Log in</Link>\r\n              <Link href=\"/signup\">Sign up</Link>\r\n            </>\r\n          )}\r\n        </div>\r\n      )}\r\n    </header>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAFA;AAJA;AAJA;;;;;;;;;;;AAYe,SAAS;IACtB,MAAM,EAAE,IAAI,EAAE,OAAO,EAAE,GAAG,CAAA,GAAA,uHAAA,CAAA,UAAO,AAAD;IAChC,MAAM,SAAS,CAAA,GAAA,kIAAA,CAAA,YAAS,AAAD;IACvB,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAEzC,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,MAAM,gBAAgB;YACpB,IAAI,CAAC,MAAM;YACX,MAAM,UAAU,CAAA,GAAA,iKAAA,CAAA,MAAG,AAAD,EAAE,+GAAA,CAAA,KAAE,EAAE,SAAS,KAAK,GAAG;YACzC,MAAM,OAAO,MAAM,CAAA,GAAA,iKAAA,CAAA,SAAM,AAAD,EAAE;YAC1B,IAAI,KAAK,MAAM,IAAI;gBACjB,MAAM,OAAO,KAAK,IAAI;gBACtB,YAAY,KAAK,QAAQ,IAAI;YAC/B;QACF;QAEA;IACF,GAAG;QAAC;KAAK;IAET,MAAM,gBAAgB;QACpB,MAAM,CAAA,GAAA,6MAAA,CAAA,UAAO,AAAD,EAAE,+GAAA,CAAA,OAAI;QAClB,OAAO,IAAI,CAAC;IACd;IAEA,qBACE,8OAAC;QAAO,WAAU;;0BAEhB,8OAAC;gBAAI,WAAU;;kCACb,8OAAC,4JAAA,CAAA,UAAI;wBAAC,MAAK;wBAAI,WAAU;;0CACvB,8OAAC,6HAAA,CAAA,UAAK;gCACJ,KAAI;gCACJ,KAAI;gCACJ,OAAO;gCACP,QAAQ;gCACR,WAAU;gCACV,QAAQ;;;;;;0CAEV,8OAAC,6HAAA,CAAA,UAAK;gCACJ,KAAI;gCACJ,KAAI;gCACJ,OAAO;gCACP,QAAQ;gCACR,WAAU;gCACV,QAAQ;;;;;;;;;;;;kCAKZ,8OAAC,4JAAA,CAAA,UAAI;wBAAC,MAAK;wBAAc,WAAU;kCAA+D;;;;;;;;;;;;YAMnG,CAAC,yBACA,8OAAC;gBAAI,WAAU;0BACZ,qBACC;;sCACE,8OAAC;;gCAAE;gCAAK,YAAY;;;;;;;sCACpB,8OAAC,4JAAA,CAAA,UAAI;4BAAC,MAAK;sCAAW;;;;;;sCACtB,8OAAC;4BAAO,SAAS;sCAAe;;;;;;;iDAGlC;;sCACE,8OAAC,4JAAA,CAAA,UAAI;4BAAC,MAAK;sCAAS;;;;;;sCACpB,8OAAC,4JAAA,CAAA,UAAI;4BAAC,MAAK;sCAAU;;;;;;;;;;;;;;;;;;;AAOnC"}},
    {"offset": {"line": 453, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}